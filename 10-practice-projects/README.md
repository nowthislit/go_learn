# 10 - Practice Projects（实战项目）

综合运用前9节所学知识，完成3个循序渐进的实战项目。

## 前置知识检查

在开始项目前，请确保你已经掌握了：

- **第6节**：结构体和方法定义
- **第7节**：接口的概念和实现
- **第8节**：goroutine、channel、mutex、WaitGroup
- **第9节**：os文件操作、JSON序列化、HTTP客户端、Context

## 项目列表

### 项目1：学生成绩管理系统 ⭐
**难度**：入门  
**预计时间**：1-2小时  
**涉及知识点**：结构体、方法、切片、JSON、文件操作

**功能需求**：
1. 定义 `Student` 结构体（ID、姓名、成绩列表）
2. 实现 `StudentManager` 管理器
   - 添加学生
   - 查询学生
   - 列出所有学生
   - 计算平均分
3. 数据持久化
   - 保存到JSON文件
   - 从JSON文件加载

**学习收获**：
- 结构体与JSON的转换
- 文件读写操作
- 切片的基本操作
- 方法的定义和使用

---

### 项目2：任务队列（并发版）⭐⭐
**难度**：中等  
**预计时间**：2-3小时  
**涉及知识点**：接口、goroutine、channel、mutex、WaitGroup

**功能需求**：
1. 定义 `Task` 接口（Execute()、GetID()）
2. 实现具体的任务类型（如 PrintTask）
3. 实现 `TaskQueue` 任务队列
   - 并发安全的任务添加（使用 mutex）
   - 多个 worker goroutine 并发处理
   - 使用 WaitGroup 等待完成
4. 任务执行结果收集

**学习收获**：
- 接口的设计与实现
- 并发安全的资源访问
- goroutine 池模式
- channel 和 WaitGroup 的配合使用

---

### 项目3：网站状态监控器 ⭐⭐⭐
**难度**：进阶  
**预计时间**：3-4小时  
**涉及知识点**：HTTP客户端、goroutine、context、JSON、时间处理

**功能需求**：
1. 定义网站配置结构体（名称、URL、超时时间）
2. 实现网站状态检查
   - 发送 HTTP GET 请求
   - 使用 Context 设置超时
   - 记录响应时间和状态
3. 并发检查多个网站
   - 每个网站一个 goroutine
   - 使用 channel 收集结果
   - 超时处理
4. 结果输出
   - 打印到控制台
   - 保存为JSON文件

**学习收获**：
- HTTP客户端的实际应用
- Context 控制请求超时
- 并发编程的综合运用
- 时间计算和格式化
- 完整的项目结构组织

---

## 项目完成建议

### 项目1步骤：
1. 先定义 Student 结构体
2. 实现添加和查询方法（不用文件，先存在内存）
3. 测试基本功能
4. 添加 JSON 序列化
5. 添加文件保存/加载
6. 测试完整流程

### 项目2步骤：
1. 定义 Task 接口和 PrintTask 实现
2. 实现单线程的任务队列
3. 添加 mutex 保证并发安全
4. 改为多 worker 并发处理
5. 添加结果收集
6. 测试并发处理

### 项目3步骤：
1. 先实现单个网站的检查
2. 添加超时控制（Context）
3. 实现并发检查多个网站
4. 收集和打印结果
5. 添加 JSON 输出
6. 测试各种情况（正常、超时、错误）

## 提示与帮助

**遇到问题时**：
1. 回顾对应章节的基础练习
2. 查阅标准库文档：https://pkg.go.dev/std
3. 分步骤测试，每步确保正确再下一步
4. 使用 `fmt.Printf` 打印中间结果调试

**常见错误**：
- 忘记关闭文件（使用 defer）
- 忘记关闭 HTTP 响应体（defer resp.Body.Close()）
- goroutine 中访问共享资源没有加锁
- channel 没有正确关闭导致死锁
- JSON 标签拼写错误

## 扩展挑战

完成基础功能后，可以尝试：

**项目1扩展**：
- 添加删除学生功能
- 支持按成绩排序
- 添加成绩统计（最高分、最低分）

**项目2扩展**：
- 添加更多任务类型（计算任务、下载任务）
- 实现任务优先级
- 添加任务重试机制

**项目3扩展**：
- 定时自动检查（使用 time.Ticker）
- 邮件/微信告警功能
- 历史记录和图表展示
